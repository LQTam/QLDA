{"ast":null,"code":"var _jsxFileName = \"/home/dev/ictu/qlda/QLDA/src/components/QLNhanVien/index.js\";\nimport React, { Component } from 'react';\nimport UserTableRow from './UserTableRow';\nimport ModalThemMem from './ModalThemMem';\nimport { withFirebase } from '../Firebase';\nimport { compose } from 'recompose';\nimport { ADMIN } from '../../constants/roles';\nimport { withAuthorization } from '../Session';\n\nclass QLNhanVien extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showUsers = users => {\n      let result = null;\n      result = users.map((user, key) => {\n        return React.createElement(UserTableRow, {\n          index: key,\n          key: key,\n          id: user.manv,\n          uid: user.keys,\n          chucdanh: user.chucdanh,\n          username: user.username,\n          dob: user.ngaysinh,\n          gender: user.gioitinh,\n          cmnd: user.cmnd,\n          phone: user.phoneNumber,\n          job: user.isAdmin,\n          role: user.bophan,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        });\n      });\n      return result;\n    };\n\n    this.state = {\n      users: [],\n      isAdmin: false\n    };\n  }\n\n  componentWillMount() {\n    this.props.firebase.users().on('value', users => {\n      var Mang = [];\n      users.forEach(element => {\n        let chucdanh = '';\n\n        if (element.val().roles) {\n          element.val().roles.forEach(role => {\n            chucdanh = role;\n          });\n        }\n\n        const keys = element.key;\n        const gioitinh = element.val().gioitinh;\n        const username = element.val().username;\n        const manv = element.val().manv;\n        const ngaysinh = element.val().ngaysinh;\n        const isAdmin = element.val().isAdmin;\n        const phoneNumber = element.val().phone;\n        const bophan = element.val().bophan;\n        const cmnd = element.val().cmnd;\n        Mang.push({\n          keys: keys,\n          gioitinh: gioitinh,\n          username: username,\n          manv: manv,\n          ngaysinh: ngaysinh,\n          isAdmin: isAdmin,\n          phoneNumber: phoneNumber,\n          cmnd: cmnd,\n          bophan: bophan,\n          chucdanh: chucdanh\n        });\n      });\n      this.setState({\n        users: Mang\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.state.users.map((user, key) => {\n      if (user.isAdmin === true) {\n        this.setState({\n          isAdmin: true\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row page-titles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-5 align-self-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      className: \"text-themecolor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\"), React.createElement(\"ol\", {\n      className: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Trang ch\\u1EE7\")), React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")))), React.createElement(\"div\", {\n      id: \"content-nhan-vien\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"menu-them-nhan-vien\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#btnThemNV\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Th\\xEAm nh\\xE2n vi\\xEAn\")), React.createElement(\"div\", {\n      className: \"card-body-nhan-vien\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Danh s\\xE1ch nh\\xE2n vi\\xEAn\"), React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"M\\xE3 s\\u1ED1 NV\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"H\\u1ECD t\\xEAn\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Ng\\xE0y sinh\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Gi\\u1EDBi t\\xEDnh\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"B\\u1ED9 ph\\u1EADn\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Ch\\u1EE9c danh\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Thao t\\xE1c\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, this.showUsers(this.state.users))))), React.createElement(ModalThemMem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst condition = authUser => authUser && authUser.roles.includes(ADMIN);\n\nexport default compose(withAuthorization(condition), withFirebase)(QLNhanVien);","map":{"version":3,"sources":["/home/dev/ictu/qlda/QLDA/src/components/QLNhanVien/index.js"],"names":["React","Component","UserTableRow","ModalThemMem","withFirebase","compose","ADMIN","withAuthorization","QLNhanVien","constructor","props","showUsers","users","result","map","user","key","manv","keys","chucdanh","username","ngaysinh","gioitinh","cmnd","phoneNumber","isAdmin","bophan","state","componentWillMount","firebase","on","Mang","forEach","element","val","roles","role","phone","push","setState","componentDidMount","componentWillUnmount","off","render","condition","authUser","includes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport UserTableRow from './UserTableRow'\nimport ModalThemMem from './ModalThemMem'\nimport { withFirebase } from '../Firebase';\nimport { compose } from 'recompose';\nimport {ADMIN} from '../../constants/roles';\nimport {withAuthorization} from '../Session';\nclass QLNhanVien extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      isAdmin: false,\n    }\n  }\n  componentWillMount() {\n    this.props.firebase.users()\n    .on('value', users => {\n      var Mang = [];\n      users.forEach(element => {\n        let chucdanh = '';\n        if(element.val().roles){\n          element.val().roles.forEach(role=>{\n            chucdanh = role;\n          })\n        }\n        const keys = element.key;\n        const gioitinh = element.val().gioitinh;\n        const username = element.val().username;\n        const manv = element.val().manv;\n        const ngaysinh = element.val().ngaysinh;\n        const isAdmin = element.val().isAdmin;\n        const phoneNumber = element.val().phone;\n        const bophan = element.val().bophan;\n        const cmnd = element.val().cmnd;\n        Mang.push({\n          keys: keys,\n          gioitinh: gioitinh,\n          username: username,\n          manv: manv,\n          ngaysinh: ngaysinh,\n          isAdmin: isAdmin,\n          phoneNumber: phoneNumber,\n          cmnd: cmnd,\n          bophan: bophan,\n          chucdanh: chucdanh,\n        })\n      });\n      this.setState({\n        users: Mang\n      });\n    })\n  }\n\n\n  componentDidMount() {\n    this.state.users.map((user, key) => {\n      if (user.isAdmin === true) {\n        this.setState({ isAdmin: true })\n      }\n    })\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n  \n  showUsers = users => {\n    let result = null;\n    result = users.map((user, key) => {\n      return <UserTableRow index={key} key={key} id={user.manv}\n        uid={user.keys}\n        chucdanh ={user.chucdanh}\n        username={user.username}\n        dob={user.ngaysinh}\n        gender={user.gioitinh}\n        cmnd = {user.cmnd}\n        phone={user.phoneNumber}\n        job={user.isAdmin}\n        role={user.bophan}\n      />\n    })\n    return result;\n  }\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        {/* ============================================================== */}\n        {/* Bread crumb and right sidebar toggle */}\n        {/* ============================================================== */}\n        <div className=\"row page-titles\">\n          <div className=\"col-md-5 align-self-center\">\n            <br />\n            <h3 className=\"text-themecolor\">Quản lý nhân viên</h3>\n            <ol className=\"breadcrumb\">\n              <li className=\"breadcrumb-item\"><a href=\"/\">Trang chủ</a></li>\n              <li className=\"breadcrumb-item active\">Quản lý nhân viên</li>\n            </ol>\n          </div>\n        </div>\n        <div id=\"content-nhan-vien\">\n          <div id=\"menu-them-nhan-vien\">\n            <button className=\"btn btn-info\" data-toggle=\"modal\" data-target=\"#btnThemNV\">Thêm nhân viên</button>\n          </div>\n          <div className=\"card-body-nhan-vien\">\n            <h4 className=\"card-title\">Danh sách nhân viên</h4>\n            {/* <h6 class=\"card-subtitle\">Add class <code>.table</code></h6> */}\n            <div className=\"table-responsive\">\n              <table className=\"table\">\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Mã số NV</th>\n                    <th>Họ tên</th>\n                    <th>Ngày sinh</th>\n                    <th>Giới tính</th>\n                    <th>Số điện thoại</th>\n                    <th>Bộ phận</th>\n                    <th>Chức danh</th>\n                    <th>Thao tác</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.showUsers(this.state.users)}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <ModalThemMem />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst condition = authUser => \nauthUser && authUser.roles.includes(ADMIN);\n\nexport default compose(\n  withAuthorization(condition),\n  withFirebase,\n)(QLNhanVien);"]},"metadata":{},"sourceType":"module"}