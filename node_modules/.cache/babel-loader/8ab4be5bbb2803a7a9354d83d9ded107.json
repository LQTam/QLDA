{"ast":null,"code":"var _jsxFileName = \"/home/dev/ictu/qlda/QLDA/src/components/ThuePhong/thephongtructiep.js\";\nimport React, { Component } from 'react';\nimport Dataphongtructiep from './Data-Phongtructiep/dataphongtructiep';\nimport { connect } from 'react-redux';\nimport { withFirebase } from '../Firebase';\n\nclass thuephongtructiep extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showdata = () => {\n      if (this.state.data) {\n        return this.state.data.map((value, key) => {\n          if (value.trangthai === this.state.change) {\n            return React.createElement(Dataphongtructiep, {\n              key: key,\n              index: key,\n              dv1: value.dv1,\n              dv2: value.dv2,\n              dv3: value.dv3,\n              madaan: value,\n              keys: value.keys,\n              image: value.image,\n              loaiphong: value.loaiphong,\n              maphong: value.maphong,\n              ngaydatphong: value.ngaydatphong,\n              ngaytraphong: value.ngaytraphong,\n              ngaynhanphong: value.ngaynhanphong,\n              trangthai: value.trangthai,\n              gia: value.gia,\n              tenkhach: value.tenkhach,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 59\n              },\n              __self: this\n            });\n          }\n        });\n      }\n    };\n\n    this.Buttonthuocsansan = () => {\n      this.setState({\n        change: 1\n      });\n    };\n\n    this.Buttondaconguoithue = () => {\n      this.setState({\n        change: 0\n      });\n    };\n\n    this.Buttonthuoc = () => {\n      this.setState({\n        change: 2\n      });\n    };\n\n    this.tuhuy = () => {\n      let d = new Date();\n      var ngay = d.getDate();\n\n      if (this.state.data) {\n        return this.state.data.map((value, key) => {\n          if (value.trangthai === 2) {\n            if (value.ngaydatphong.slice(0, 2) > ngay) {\n              var info = {};\n              info.key = value.keys;\n              info.trangthai = 1;\n              info.sdt = \"\";\n              info.tenkhach = \"\";\n              info.diachi = \"\";\n              info.cmnd = \"\";\n              info.ngaysinh = \"\";\n              info.gioitinh = \"\";\n              info.ngaydat = \"\"; // this.props.Thaydoigiatri(info);\n            }\n          }\n        });\n      }\n    };\n\n    this.state = {\n      data: [],\n      change: 1\n    };\n  }\n\n  componentWillMount() {\n    this.props.firebase.customers().on('value', datas => {\n      var Mang = [];\n      datas.forEach(element => {\n        const keys = element.key;\n        const image = element.val().image;\n        const loaiphong = element.val().loaiphong;\n        const maphong = element.val().maphong;\n        const ngaydatphong = element.val().ngaydatphong;\n        const ngaytraphong = element.val().ngaytraphong;\n        const ngaynhanphong = element.val().ngaynhanphong;\n        const trangthai = element.val().trangthai;\n        const gia = element.val().gia;\n        const tenkhach = element.val().tenkhach;\n        const dv1 = element.val().dv1;\n        const dv2 = element.val().dv2;\n        const dv3 = element.val().dv3;\n        Mang.push({\n          image: image,\n          loaiphong: loaiphong,\n          maphong: maphong,\n          ngaydatphong: ngaydatphong,\n          ngaytraphong: ngaytraphong,\n          trangthai: trangthai,\n          gia: gia,\n          tenkhach: tenkhach,\n          ngaynhanphong: ngaynhanphong,\n          keys: keys,\n          dv1: dv1,\n          dv2: dv2,\n          dv3: dv3\n        });\n      });\n      this.setState({\n        data: Mang\n      });\n    });\n  }\n\n  render() {\n    this.tuhuy();\n    console.log(this.state.change);\n    return React.createElement(\"div\", {\n      id: \"tab1\",\n      className: \"tab_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"loc-phong\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      onClick: () => this.Buttonthuocsansan(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"S\\u1EB5n s\\xE0ng\"), React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      onClick: () => this.Buttonthuoc(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Booking\"), React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      onClick: () => this.Buttondaconguoithue(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"\\u0110ang thu\\xEA\")), this.showdata());\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    Giatrigoc: state.Thaydoitrangthai\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    Thaydoigiatri: getitem => {\n      dispatch({\n        type: 'THAYDOI',\n        getitem\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withFirebase(thuephongtructiep));","map":{"version":3,"sources":["/home/dev/ictu/qlda/QLDA/src/components/ThuePhong/thephongtructiep.js"],"names":["React","Component","Dataphongtructiep","connect","withFirebase","thuephongtructiep","constructor","props","showdata","state","data","map","value","key","trangthai","change","dv1","dv2","dv3","keys","image","loaiphong","maphong","ngaydatphong","ngaytraphong","ngaynhanphong","gia","tenkhach","Buttonthuocsansan","setState","Buttondaconguoithue","Buttonthuoc","tuhuy","d","Date","ngay","getDate","slice","info","sdt","diachi","cmnd","ngaysinh","gioitinh","ngaydat","componentWillMount","firebase","customers","on","datas","Mang","forEach","element","val","push","render","console","log","mapStateToProps","ownProps","Giatrigoc","Thaydoitrangthai","mapDispatchToProps","dispatch","Thaydoigiatri","getitem","type"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,iBAAP,MAA8B,wCAA9B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,YAAT,QAA6B,aAA7B;;AACA,MAAMC,iBAAN,SAAgCJ,SAAhC,CAA0C;AAC1CK,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SA+ClBC,QA/CkB,GA+CP,MAAM;AACf,UAAG,KAAKC,KAAL,CAAWC,IAAd,EACA;AACE,eAAO,KAAKD,KAAL,CAAWC,IAAX,CAAgBC,GAAhB,CAAoB,CAACC,KAAD,EAASC,GAAT,KAAiB;AACxC,cAAGD,KAAK,CAACE,SAAN,KAAoB,KAAKL,KAAL,CAAWM,MAAlC,EACA;AACE,mBAAO,oBAAC,iBAAD;AACP,cAAA,GAAG,EAAEF,GADE;AAEP,cAAA,KAAK,EAAIA,GAFF;AAGP,cAAA,GAAG,EAAED,KAAK,CAACI,GAHJ;AAIP,cAAA,GAAG,EAAEJ,KAAK,CAACK,GAJJ;AAKP,cAAA,GAAG,EAAEL,KAAK,CAACM,GALJ;AAMP,cAAA,MAAM,EAAEN,KAND;AAOP,cAAA,IAAI,EAAEA,KAAK,CAACO,IAPL;AAQP,cAAA,KAAK,EAAEP,KAAK,CAACQ,KARN;AASP,cAAA,SAAS,EAAER,KAAK,CAACS,SATV;AAUP,cAAA,OAAO,EAAET,KAAK,CAACU,OAVR;AAWP,cAAA,YAAY,EAAEV,KAAK,CAACW,YAXb;AAYP,cAAA,YAAY,EAAEX,KAAK,CAACY,YAZb;AAaP,cAAA,aAAa,EAAEZ,KAAK,CAACa,aAbd;AAcP,cAAA,SAAS,EAAEb,KAAK,CAACE,SAdV;AAeP,cAAA,GAAG,EAAEF,KAAK,CAACc,GAfJ;AAgBP,cAAA,QAAQ,EAAEd,KAAK,CAACe,QAhBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AAkBD;AACJ,SAtBM,CAAP;AAuBD;AACF,KA1EiB;;AAAA,SA+ElBC,iBA/EkB,GA+EE,MAAM;AACzB,WAAKC,QAAL,CAAc;AACZd,QAAAA,MAAM,EAAG;AADG,OAAd;AAGA,KAnFiB;;AAAA,SAoFlBe,mBApFkB,GAoFI,MAAM;AAC1B,WAAKD,QAAL,CAAc;AACZd,QAAAA,MAAM,EAAG;AADG,OAAd;AAGD,KAxFiB;;AAAA,SAyFlBgB,WAzFkB,GAyFJ,MAAM;AAClB,WAAKF,QAAL,CAAc;AACZd,QAAAA,MAAM,EAAG;AADG,OAAd;AAGD,KA7FiB;;AAAA,SA+FlBiB,KA/FkB,GA+FV,MAAM;AACZ,UAAIC,CAAC,GAAG,IAAIC,IAAJ,EAAR;AACA,UAAIC,IAAI,GAAGF,CAAC,CAACG,OAAF,EAAX;;AACA,UAAG,KAAK3B,KAAL,CAAWC,IAAd,EACA;AACE,eAAO,KAAKD,KAAL,CAAWC,IAAX,CAAgBC,GAAhB,CAAoB,CAACC,KAAD,EAASC,GAAT,KAAiB;AACxC,cAAGD,KAAK,CAACE,SAAN,KAAoB,CAAvB,EACA;AACE,gBAAGF,KAAK,CAACW,YAAN,CAAmBc,KAAnB,CAAyB,CAAzB,EAA2B,CAA3B,IAAgCF,IAAnC,EACA;AACI,kBAAIG,IAAI,GAAG,EAAX;AACAA,cAAAA,IAAI,CAACzB,GAAL,GAAWD,KAAK,CAACO,IAAjB;AACAmB,cAAAA,IAAI,CAACxB,SAAL,GAAiB,CAAjB;AACAwB,cAAAA,IAAI,CAACC,GAAL,GAAW,EAAX;AACAD,cAAAA,IAAI,CAACX,QAAL,GAAgB,EAAhB;AACAW,cAAAA,IAAI,CAACE,MAAL,GAAc,EAAd;AACAF,cAAAA,IAAI,CAACG,IAAL,GAAY,EAAZ;AACAH,cAAAA,IAAI,CAACI,QAAL,GAAgB,EAAhB;AACAJ,cAAAA,IAAI,CAACK,QAAL,GAAgB,EAAhB;AACAL,cAAAA,IAAI,CAACM,OAAL,GAAc,EAAd,CAVJ,CAWI;AACH;AACF;AACJ,SAlBM,CAAP;AAmBD;AACF,KAxHiB;;AAEhB,SAAKnC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAG,EADI;AAEXK,MAAAA,MAAM,EAAG;AAFE,KAAb;AAID;;AACD8B,EAAAA,kBAAkB,GAAG;AACnB,SAAKtC,KAAL,CAAWuC,QAAX,CAAoBC,SAApB,GACCC,EADD,CACI,OADJ,EACaC,KAAD,IAAW;AACrB,UAAIC,IAAI,GAAG,EAAX;AACAD,MAAAA,KAAK,CAACE,OAAN,CAAcC,OAAO,IAAI;AACvB,cAAMjC,IAAI,GAAGiC,OAAO,CAACvC,GAArB;AACA,cAAMO,KAAK,GAAGgC,OAAO,CAACC,GAAR,GAAcjC,KAA5B;AACA,cAAMC,SAAS,GAAG+B,OAAO,CAACC,GAAR,GAAchC,SAAhC;AACA,cAAMC,OAAO,GAAG8B,OAAO,CAACC,GAAR,GAAc/B,OAA9B;AACA,cAAMC,YAAY,GAAG6B,OAAO,CAACC,GAAR,GAAc9B,YAAnC;AACA,cAAMC,YAAY,GAAG4B,OAAO,CAACC,GAAR,GAAc7B,YAAnC;AACA,cAAMC,aAAa,GAAG2B,OAAO,CAACC,GAAR,GAAc5B,aAApC;AACA,cAAMX,SAAS,GAAGsC,OAAO,CAACC,GAAR,GAAcvC,SAAhC;AACA,cAAMY,GAAG,GAAG0B,OAAO,CAACC,GAAR,GAAc3B,GAA1B;AACA,cAAMC,QAAQ,GAAGyB,OAAO,CAACC,GAAR,GAAc1B,QAA/B;AACA,cAAMX,GAAG,GAAGoC,OAAO,CAACC,GAAR,GAAcrC,GAA1B;AACA,cAAMC,GAAG,GAAGmC,OAAO,CAACC,GAAR,GAAcpC,GAA1B;AACA,cAAMC,GAAG,GAAGkC,OAAO,CAACC,GAAR,GAAcnC,GAA1B;AACAgC,QAAAA,IAAI,CAACI,IAAL,CAAU;AACRlC,UAAAA,KAAK,EAAGA,KADA;AAERC,UAAAA,SAAS,EAAGA,SAFJ;AAGRC,UAAAA,OAAO,EAAGA,OAHF;AAIRC,UAAAA,YAAY,EAAGA,YAJP;AAKRC,UAAAA,YAAY,EAAGA,YALP;AAMRV,UAAAA,SAAS,EAAGA,SANJ;AAORY,UAAAA,GAAG,EAAGA,GAPE;AAQRC,UAAAA,QAAQ,EAAGA,QARH;AASRF,UAAAA,aAAa,EAAGA,aATR;AAURN,UAAAA,IAAI,EAAEA,IAVE;AAWRH,UAAAA,GAAG,EAAGA,GAXE;AAYRC,UAAAA,GAAG,EAAGA,GAZE;AAaRC,UAAAA,GAAG,EAAGA;AAbE,SAAV;AAeD,OA7BD;AA8BA,WAAKW,QAAL,CAAc;AACZnB,QAAAA,IAAI,EAAGwC;AADK,OAAd;AAGD,KApCD;AAqCD;;AA8EAK,EAAAA,MAAM,GAAG;AACP,SAAKvB,KAAL;AACAwB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhD,KAAL,CAAWM,MAAvB;AACA,WACC;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,SAAS,EAAC,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,OAAO,EAAE,MAAI,KAAKa,iBAAL,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADH,EAEG;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,OAAO,EAAE,MAAI,KAAKG,WAAL,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFH,EAGG;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,OAAO,EAAE,MAAI,KAAKD,mBAAL,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAHH,CADD,EAMC,KAAKtB,QAAL,EAND,CADD;AAUD;;AAzIwC;;AA2I1C,MAAMkD,eAAe,GAAG,CAACjD,KAAD,EAAQkD,QAAR,KAAqB;AAC3C,SAAO;AACLC,IAAAA,SAAS,EAAEnD,KAAK,CAACoD;AADZ,GAAP;AAGD,CAJD;;AAKA,MAAMC,kBAAkB,GAAG,CAACC,QAAD,EAAWJ,QAAX,KAAwB;AACjD,SAAO;AACLK,IAAAA,aAAa,EAAGC,OAAD,IAAa;AAC1BF,MAAAA,QAAQ,CAAC;AAACG,QAAAA,IAAI,EAAC,SAAN;AAAgBD,QAAAA;AAAhB,OAAD,CAAR;AACD;AAHI,GAAP;AAKD,CAND;;AAOA,eAAe9D,OAAO,CAACuD,eAAD,EAAkBI,kBAAlB,CAAP,CAA6C1D,YAAY,CAACC,iBAAD,CAAzD,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport Dataphongtructiep from './Data-Phongtructiep/dataphongtructiep';\nimport {connect} from 'react-redux';\nimport { withFirebase } from '../Firebase';\nclass thuephongtructiep extends Component {\nconstructor(props){\n  super(props);\n  this.state = {\n    data : [],\n    change : 1\n  };\n}\ncomponentWillMount() {\n  this.props.firebase.customers()\n  .on('value',(datas) => {\n    var Mang = [];\n    datas.forEach(element => {\n      const keys = element.key;\n      const image = element.val().image;\n      const loaiphong = element.val().loaiphong;\n      const maphong = element.val().maphong;\n      const ngaydatphong = element.val().ngaydatphong;\n      const ngaytraphong = element.val().ngaytraphong;\n      const ngaynhanphong = element.val().ngaynhanphong;\n      const trangthai = element.val().trangthai;\n      const gia = element.val().gia;\n      const tenkhach = element.val().tenkhach;\n      const dv1 = element.val().dv1;\n      const dv2 = element.val().dv2;\n      const dv3 = element.val().dv3;\n      Mang.push({\n        image : image,\n        loaiphong : loaiphong,\n        maphong : maphong,\n        ngaydatphong : ngaydatphong,\n        ngaytraphong : ngaytraphong,\n        trangthai : trangthai,\n        gia : gia,\n        tenkhach : tenkhach,\n        ngaynhanphong : ngaynhanphong,\n        keys :keys,\n        dv1 : dv1,\n        dv2 : dv2,\n        dv3 : dv3\n      })\n    });\n    this.setState({\n      data : Mang\n    });\n  })\n}\n\nshowdata = () => {\n  if(this.state.data)\n  {\n    return this.state.data.map((value , key) => {\n        if(value.trangthai === this.state.change)\n        {\n          return <Dataphongtructiep \n          key={key}\n          index = {key}\n          dv1={value.dv1}\n          dv2={value.dv2}\n          dv3={value.dv3}\n          madaan={value}\n          keys={value.keys}\n          image={value.image}\n          loaiphong={value.loaiphong}\n          maphong={value.maphong}\n          ngaydatphong={value.ngaydatphong}\n          ngaytraphong={value.ngaytraphong}\n          ngaynhanphong={value.ngaynhanphong}\n          trangthai={value.trangthai}\n          gia={value.gia}\n          tenkhach={value.tenkhach}\n          />\n        }\n    })\n  }\n}\n\n\n\n\nButtonthuocsansan = () => {\n this.setState({\n   change : 1\n });\n}\nButtondaconguoithue = () => {\n  this.setState({\n    change : 0\n  });\n}\nButtonthuoc = () => {\n  this.setState({\n    change : 2\n  });\n}\n\ntuhuy = () => {\n  let d = new Date();\n  var ngay = d.getDate();\n  if(this.state.data)\n  {\n    return this.state.data.map((value , key) => {\n        if(value.trangthai === 2)\n        {\n          if(value.ngaydatphong.slice(0,2) > ngay)\n          {\n              var info = {};\n              info.key = value.keys;\n              info.trangthai = 1;\n              info.sdt = \"\";\n              info.tenkhach = \"\";\n              info.diachi = \"\";\n              info.cmnd = \"\";\n              info.ngaysinh = \"\";\n              info.gioitinh = \"\";\n              info.ngaydat =\"\";\n              // this.props.Thaydoigiatri(info);\n          }\n        }\n    })\n  }\n}\n\n\n render() {\n   this.tuhuy();\n   console.log(this.state.change);\n   return (\n    <div id=\"tab1\" className=\"tab_content\"> \n     <div id=\"loc-phong\">\n        <button className=\"btn btn-info\" onClick={()=>this.Buttonthuocsansan()}>Sẵn sàng</button>\n        <button className=\"btn btn-info\" onClick={()=>this.Buttonthuoc()}>Booking</button>\n        <button className=\"btn btn-info\" onClick={()=>this.Buttondaconguoithue()}>Đang thuê</button>\n    </div>\n    {this.showdata()}\n    </div>\n   )\n }\n}\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    Giatrigoc: state.Thaydoitrangthai\n  }\n}\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    Thaydoigiatri: (getitem) => {\n      dispatch({type:'THAYDOI',getitem})\n    }\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withFirebase(thuephongtructiep));"]},"metadata":{},"sourceType":"module"}